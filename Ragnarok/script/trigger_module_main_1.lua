local ____lualib = base.tsc
local __TS__Class = ____lualib.__TS__Class
local __TS__ClassExtends = ____lualib.__TS__ClassExtends
local __TS__SuperTypeArgumentsFuncWrapper = ____lualib.__TS__SuperTypeArgumentsFuncWrapper
local __TS__New = ____lualib.__TS__New
local __TS__Class2 = ____lualib.__TS__Class2
Cast = base.tsc.CLASSES.Cast or __TS__Class2("Cast")
RegionCircle = base.tsc.CLASSES.RegionCircle or __TS__Class2("RegionCircle")
RegionRect = base.tsc.CLASSES.RegionRect or __TS__Class2("RegionRect")
QuestCondition = base.tsc.CLASSES.QuestCondition or __TS__Class2("QuestCondition")
Quest = base.tsc.CLASSES.Quest or __TS__Class2("Quest")
SceneObject = base.tsc.CLASSES.SceneObject or __TS__Class2("SceneObject")
UnitPropertyBonus = base.tsc.CLASSES.UnitPropertyBonus or __TS__Class2("UnitPropertyBonus")
ScoreRankAddParam = base.tsc.CLASSES.ScoreRankAddParam or __TS__Class2("ScoreRankAddParam")
ScoreRankSetParam = base.tsc.CLASSES.ScoreRankSetParam or __TS__Class2("ScoreRankSetParam")
autotest_log = base.tsc.CLASSES.autotest_log or __TS__Class2("autotest_log")
UnitBuff = base.tsc.CLASSES.UnitBuff or __TS__Class2("UnitBuff")
DateTime = base.tsc.CLASSES.DateTime or __TS__Class2("DateTime")
os = base.tsc.CLASSES.os or __TS__Class2("os")
ScoreMoneyParam = base.tsc.CLASSES.ScoreMoneyParam or __TS__Class2("ScoreMoneyParam")
ScoreMsgID = base.tsc.CLASSES.ScoreMsgID or __TS__Class2("ScoreMsgID")
ScoreNameData = base.tsc.CLASSES.ScoreNameData or __TS__Class2("ScoreNameData")
ScoreID = base.tsc.CLASSES.ScoreID or __TS__Class2("ScoreID")
ScoreListID = base.tsc.CLASSES.ScoreListID or __TS__Class2("ScoreListID")
ScoreMsgData = base.tsc.CLASSES.ScoreMsgData or __TS__Class2("ScoreMsgData")
ScoreGetRankTotalParam = base.tsc.CLASSES.ScoreGetRankTotalParam or __TS__Class2("ScoreGetRankTotalParam")
ScoreGetRankTotalData = base.tsc.CLASSES.ScoreGetRankTotalData or __TS__Class2("ScoreGetRankTotalData")
ScoreGetUserRankData = base.tsc.CLASSES.ScoreGetUserRankData or __TS__Class2("ScoreGetUserRankData")
ScoreGetRankListData = base.tsc.CLASSES.ScoreGetRankListData or __TS__Class2("ScoreGetRankListData")
ScoreGetUserRankParam = base.tsc.CLASSES.ScoreGetUserRankParam or __TS__Class2("ScoreGetUserRankParam")
ScoreGetRankListParam = base.tsc.CLASSES.ScoreGetRankListParam or __TS__Class2("ScoreGetRankListParam")
ScoreChannelMsgData = base.tsc.CLASSES.ScoreChannelMsgData or __TS__Class2("ScoreChannelMsgData")
ScoreNameSearchParam = base.tsc.CLASSES.ScoreNameSearchParam or __TS__Class2("ScoreNameSearchParam")
ScoreNameNewParam = base.tsc.CLASSES.ScoreNameNewParam or __TS__Class2("ScoreNameNewParam")
ScoreMsgQueryParam = base.tsc.CLASSES.ScoreMsgQueryParam or __TS__Class2("ScoreMsgQueryParam")
ScoreMsgSendParam = base.tsc.CLASSES.ScoreMsgSendParam or __TS__Class2("ScoreMsgSendParam")
ScoreListData = base.tsc.CLASSES.ScoreListData or __TS__Class2("ScoreListData")
ScoreListDeleteParam = base.tsc.CLASSES.ScoreListDeleteParam or __TS__Class2("ScoreListDeleteParam")
ScoreListModifyParam = base.tsc.CLASSES.ScoreListModifyParam or __TS__Class2("ScoreListModifyParam")
ScoreListAddParam = base.tsc.CLASSES.ScoreListAddParam or __TS__Class2("ScoreListAddParam")
ScoreMoneyData = base.tsc.CLASSES.ScoreMoneyData or __TS__Class2("ScoreMoneyData")
ScoreAddParam = base.tsc.CLASSES.ScoreAddParam or __TS__Class2("ScoreAddParam")
ScoreSetParam = base.tsc.CLASSES.ScoreSetParam or __TS__Class2("ScoreSetParam")
ScoreData = base.tsc.CLASSES.ScoreData or __TS__Class2("ScoreData")
UserID = base.tsc.CLASSES.UserID or __TS__Class2("UserID")
ScoreGetParam = base.tsc.CLASSES.ScoreGetParam or __TS__Class2("ScoreGetParam")
ScoreObjData = base.tsc.CLASSES.ScoreObjData or __TS__Class2("ScoreObjData")
ScoreCommitter = base.tsc.CLASSES.ScoreCommitter or __TS__Class2("ScoreCommitter")
AISearcher = base.tsc.CLASSES.AISearcher or __TS__Class2("AISearcher")
DataCache = base.tsc.CLASSES.DataCache or __TS__Class2("DataCache")
Sight = base.tsc.CLASSES.Sight or __TS__Class2("Sight")
UnitGroup = base.tsc.CLASSES.UnitGroup or __TS__Class2("UnitGroup")
Line = base.tsc.CLASSES.Line or __TS__Class2("Line")
Trigger = base.tsc.CLASSES.Trigger or __TS__Class2("Trigger")
Player = base.tsc.CLASSES.Player or __TS__Class2("Player")
Inventory = base.tsc.CLASSES.Inventory or __TS__Class2("Inventory")
Skill = base.tsc.CLASSES.Skill or __TS__Class2("Skill")
Slot = base.tsc.CLASSES.Slot or __TS__Class2("Slot")
DamageInstance = base.tsc.CLASSES.DamageInstance or __TS__Class2("DamageInstance")
TriggerEvent = base.tsc.CLASSES.TriggerEvent or __TS__Class2("TriggerEvent")
HealInstance = base.tsc.CLASSES.HealInstance or __TS__Class2("HealInstance")
Buff = base.tsc.CLASSES.Buff or __TS__Class2("Buff")
Unit = base.tsc.CLASSES.Unit or __TS__Class2("Unit")
Mover = base.tsc.CLASSES.Mover or __TS__Class2("Mover")
Point = base.tsc.CLASSES.Point or __TS__Class2("Point")
EffectParam = base.tsc.CLASSES.EffectParam or __TS__Class2("EffectParam")
UnitTable = base.tsc.CLASSES.UnitTable or __TS__Class2("UnitTable")
Target = base.tsc.CLASSES.Target or __TS__Class2("Target")
ScreenPos = base.tsc.CLASSES.ScreenPos or __TS__Class2("ScreenPos")
Region = base.tsc.CLASSES.Region or __TS__Class2("Region")
Item = base.tsc.CLASSES.Item or __TS__Class2("Item")
TriggerParamTable = base.tsc.CLASSES.TriggerParamTable or __TS__Class2("TriggerParamTable")
EffectParamShared = base.tsc.CLASSES.EffectParamShared or __TS__Class2("EffectParamShared")
Snapshot = base.tsc.CLASSES.Snapshot or __TS__Class2("Snapshot")
Timer = base.tsc.CLASSES.Timer or __TS__Class2("Timer")
Team = base.tsc.CLASSES.Team or __TS__Class2("Team")
Actor = base.tsc.CLASSES.Actor or __TS__Class2("Actor")
Coroutine = base.tsc.CLASSES.Coroutine or __TS__Class2("Coroutine")
IEventNotify = base.tsc.CLASSES.IEventNotify or __TS__Class2("IEventNotify")
Present = base.tsc.CLASSES.Present or __TS__Class2("Present")
Array = base.tsc.CLASSES.Array or __TS__Class2("Array")
ragnarok_xanb = ragnarok_xanb or ({})
do
    ragnarok_xanb.出生点1 = base.get_scene_point("default", "出生点1", _G.present)
    ragnarok_xanb.出生点2 = base.get_scene_point("default", "出生点2", _G.present)
    ragnarok_xanb.西方聚集点 = base.get_scene_area("default", "rect", "西方聚集点", _G.present)
    ragnarok_xanb.东方聚集点 = base.get_scene_area("default", "rect", "东方聚集点", _G.present)
    ragnarok_xanb.西方禁止进入区域 = base.get_scene_area("default", "rect", "西方禁止进入区域", _G.present)
    ragnarok_xanb.东方禁止进入区域 = base.get_scene_area("default", "rect", "东方禁止进入区域", _G.present)
    ragnarok_xanb.游戏模式 = "字符串"
    local function _TRIG_游戏开始配置_FUNC(当前触发器, e)
        if true then
            ragnarok_xanb.游戏模式 = base.get_gamemode_key()
            repeat
                local ____switch5 = ragnarok_xanb.游戏模式
                local ____cond5 = ____switch5 == "1V1模式"
                if ____cond5 then
                    do
                        base.player(1):set_team_id(1)
                        base.player_set_camera(
                            base.player(1),
                            "$$ragnarok_xanb.camera_property.camerapro.root",
                            0
                        )
                        base.player(2):set_team_id(2)
                        base.player_set_camera(
                            base.player(2),
                            "$$ragnarok_xanb.camera_property.camerapro_1.root",
                            0
                        )
                        break
                    end
                end
                ____cond5 = ____cond5 or ____switch5 == "2V2模式"
                if ____cond5 then
                    do
                        base.player(1):set_team_id(1)
                        base.player_set_camera(
                            base.player(1),
                            "$$ragnarok_xanb.camera_property.camerapro.root",
                            0
                        )
                        base.player(2):set_team_id(1)
                        base.player_set_camera(
                            base.player(2),
                            "$$ragnarok_xanb.camera_property.camerapro.root",
                            0
                        )
                        base.player(3):set_team_id(2)
                        base.player_set_camera(
                            base.player(3),
                            "$$ragnarok_xanb.camera_property.camerapro_1.root",
                            0
                        )
                        base.player(4):set_team_id(2)
                        base.player_set_camera(
                            base.player(4),
                            "$$ragnarok_xanb.camera_property.camerapro_1.root",
                            0
                        )
                        break
                    end
                end
                do
                    do
                        base.player(1):set_team_id(1)
                        base.player_set_camera(
                            base.player(1),
                            "$$ragnarok_xanb.camera_property.camerapro.root",
                            0
                        )
                        base.player(2):set_team_id(2)
                        base.player_set_camera(
                            base.player(2),
                            "$$ragnarok_xanb.camera_property.camerapro_1.root",
                            0
                        )
                        base.player(3):set_team_id(1)
                        base.player_set_camera(
                            base.player(3),
                            "$$ragnarok_xanb.camera_property.camerapro.root",
                            0
                        )
                        base.player(4):set_team_id(2)
                        base.player_set_camera(
                            base.player(4),
                            "$$ragnarok_xanb.camera_property.camerapro_1.root",
                            0
                        )
                        break
                    end
                end
            until true
        end
    end
    ragnarok_xanb.游戏开始配置 = base.trigger_new(
        _TRIG_游戏开始配置_FUNC,
        {},
        false,
        nil,
        true
    )
    local function _TRIG_种族英雄选择_FUNC(当前触发器, e)
        local 初始金钱 = base.eff.cache("$$ragnarok_xanb.link_node.初始金钱.root")
        if e.is_reconnect == false then
            smallcard_choose_one.open_n_pick_1(
                e.player:get_hero(),
                5,
                "$$ragnarok_xanb.loot_pool.初始英雄选择.root"
            )
            e.player:add("金钱", 初始金钱.Value)
        end
    end
    ragnarok_xanb.种族英雄选择 = base.trigger_new(
        _TRIG_种族英雄选择_FUNC,
        {},
        false,
        nil,
        true
    )
    local function _TRIG_属性面板切换_FUNC(当前触发器, e)
        if base.target_filter_validate(
            base.target_filters:new("单位;"),
            e.unit
        ) == true then
            smallcard_unit_attr_panel.绑定玩家全部单位属性面板为单位(e.player, e.unit)
        end
    end
    ragnarok_xanb.属性面板切换 = base.trigger_new(
        _TRIG_属性面板切换_FUNC,
        {},
        false,
        nil,
        true
    )
    local function _TRIG_自动加钱_FUNC(当前触发器, e)
        if true then
            base.timer_loop(
                1,
                function()
                    base.player(1):add("金钱", 1)
                    base.player(2):add("金钱", 1)
                    base.player(3):add("金钱", 1)
                    base.player(4):add("金钱", 1)
                end
            )
        end
    end
    ragnarok_xanb.自动加钱 = base.trigger_new(
        _TRIG_自动加钱_FUNC,
        {},
        false,
        nil,
        true
    )
    local function _TRIG_击杀计数_FUNC(当前触发器, e)
        if e.unit:get_name() ~= "$$ragnarok_xanb.unit.初始英雄.root" and base.target_filter_validate(
            base.target_filters:new("单位;无敌"),
            e.unit
        ) == true then
            e.killer:get_owner():add("补刀", 1)
        end
    end
    ragnarok_xanb.击杀计数 = base.trigger_new(
        _TRIG_击杀计数_FUNC,
        {},
        false,
        nil,
        true
    )
    local function _TRIG_西方禁止进入_FUNC(当前触发器, e)
        local 主控2 = base.player(2):get_hero()
        local 主控3 = base.player(3):get_hero()
        local 主控4 = base.player(4):get_hero()
        if e.unit:get_team_id() == 2 and (e.unit == 主控2 or e.unit == 主控3 or e.unit == 主控4) then
            e.unit:blink_ex(ragnarok_xanb.出生点2)
        end
    end
    ragnarok_xanb.西方禁止进入 = base.trigger_new(
        _TRIG_西方禁止进入_FUNC,
        {},
        false,
        nil,
        true
    )
    local function _TRIG_东方禁止进入_FUNC(当前触发器, e)
        local 主控1 = base.player(1):get_hero()
        local 主控2 = base.player(2):get_hero()
        local 主控3 = base.player(3):get_hero()
        if e.unit:get_team_id() == 1 and (e.unit == 主控1 or e.unit == 主控2 or e.unit == 主控3) then
            e.unit:blink_ex(ragnarok_xanb.出生点1)
        end
    end
    ragnarok_xanb.东方禁止进入 = base.trigger_new(
        _TRIG_东方禁止进入_FUNC,
        {},
        false,
        nil,
        true
    )
    ragnarok_xanb.西方获胜 = __TS__Class()
    local 西方获胜 = ragnarok_xanb.西方获胜
    西方获胜.name = "西方获胜"
    __TS__ClassExtends(
        西方获胜,
        TriggerEvent,
        function()
            return {}
        end
    )
    function 西方获胜.prototype.____constructor(self, obj)
        __TS__SuperTypeArgumentsFuncWrapper(西方获胜, {}, TriggerEvent.prototype.____constructor)(self)
        self.obj = obj
        self.event_name = "西方获胜"
        self.autoForward = true
    end
    ragnarok_xanb.东方获胜 = __TS__Class()
    local 东方获胜 = ragnarok_xanb.东方获胜
    东方获胜.name = "东方获胜"
    __TS__ClassExtends(
        东方获胜,
        TriggerEvent,
        function()
            return {}
        end
    )
    function 东方获胜.prototype.____constructor(self, obj)
        __TS__SuperTypeArgumentsFuncWrapper(东方获胜, {}, TriggerEvent.prototype.____constructor)(self)
        self.obj = obj
        self.event_name = "东方获胜"
        self.autoForward = true
    end
    local function _TRIG_西方胜利_FUNC(当前触发器, e)
        if true then
            base.send_custom_event(__TS__New(ragnarok_xanb.西方获胜, {}, base.game))
            base.game:set_winner(1)
        end
    end
    ragnarok_xanb.西方胜利 = base.trigger_new(
        _TRIG_西方胜利_FUNC,
        {},
        false,
        nil,
        true
    )
    local function _TRIG_东方胜利_FUNC(当前触发器, e)
        if true then
            base.send_custom_event(__TS__New(ragnarok_xanb.东方获胜, {}, base.game))
            base.game:set_winner(1)
        end
    end
    ragnarok_xanb.东方胜利 = base.trigger_new(
        _TRIG_东方胜利_FUNC,
        {},
        false,
        nil,
        true
    )
    local function _TRIG_修建_等级1_FUNC(当前触发器, e)
        if true then
            if base.player(e.player_slot_id):get_num("金钱") >= 100 then
                base.player(e.player_slot_id):add("金钱", -100)
                smallcard_choose_one.open_n_pick_1(
                    base.player(e.player_slot_id):get_hero(),
                    3,
                    "$$ragnarok_xanb.loot_pool.抽卡_等级1.root"
                )
            else
                base.send_custom_event_to_certain_player(
                    __TS__New(ragnarok_xanb.金钱不足, {}, base.game),
                    base.player(e.player_slot_id)
                )
            end
        end
    end
    ragnarok_xanb.修建_等级1 = base.trigger_new(
        _TRIG_修建_等级1_FUNC,
        {},
        false,
        nil,
        true
    )
    ragnarok_xanb.金钱不足 = __TS__Class()
    local 金钱不足 = ragnarok_xanb.金钱不足
    金钱不足.name = "金钱不足"
    __TS__ClassExtends(
        金钱不足,
        TriggerEvent,
        function()
            return {}
        end
    )
    function 金钱不足.prototype.____constructor(self, obj)
        __TS__SuperTypeArgumentsFuncWrapper(金钱不足, {}, TriggerEvent.prototype.____constructor)(self)
        self.obj = obj
        self.event_name = "金钱不足"
        self.autoForward = true
    end
    ragnarok_xanb.触发固定视角 = __TS__Class()
    local 触发固定视角 = ragnarok_xanb.触发固定视角
    触发固定视角.name = "触发固定视角"
    __TS__ClassExtends(
        触发固定视角,
        TriggerEvent,
        function()
            return {}
        end
    )
    function 触发固定视角.prototype.____constructor(self, obj, player_slot_id)
        __TS__SuperTypeArgumentsFuncWrapper(触发固定视角, {}, TriggerEvent.prototype.____constructor)(self)
        self.obj = obj
        self.player_slot_id = player_slot_id
        self.event_name = "触发固定视角"
        self.autoForward = false
    end
    ragnarok_xanb.触发自由视角 = __TS__Class()
    local 触发自由视角 = ragnarok_xanb.触发自由视角
    触发自由视角.name = "触发自由视角"
    __TS__ClassExtends(
        触发自由视角,
        TriggerEvent,
        function()
            return {}
        end
    )
    function 触发自由视角.prototype.____constructor(self, obj, player_slot_id)
        __TS__SuperTypeArgumentsFuncWrapper(触发自由视角, {}, TriggerEvent.prototype.____constructor)(self)
        self.obj = obj
        self.player_slot_id = player_slot_id
        self.event_name = "触发自由视角"
        self.autoForward = false
    end
    ragnarok_xanb.点击修建_等级1 = __TS__Class()
    local 点击修建_等级1 = ragnarok_xanb.点击修建_等级1
    点击修建_等级1.name = "点击修建_等级1"
    __TS__ClassExtends(
        点击修建_等级1,
        TriggerEvent,
        function()
            return {}
        end
    )
    function 点击修建_等级1.prototype.____constructor(self, obj, player_slot_id)
        __TS__SuperTypeArgumentsFuncWrapper(点击修建_等级1, {}, TriggerEvent.prototype.____constructor)(self)
        self.obj = obj
        self.player_slot_id = player_slot_id
        self.event_name = "点击修建_等级1"
        self.autoForward = false
    end
    ragnarok_xanb.游戏开始配置:add_event_common({obj = base.game, event_name = "游戏-开始"})
    ragnarok_xanb.种族英雄选择:add_event_common({obj = base.any_player, event_name = "玩家-连入"})
    ragnarok_xanb.属性面板切换:add_event_common({obj = base.any_unit, event_name = "单位-选中"})
    ragnarok_xanb.自动加钱:add_event_common({periodic = false, time = 1})
    ragnarok_xanb.击杀计数:add_event_common({obj = base.any_unit, event_name = "单位-死亡"})
    ragnarok_xanb.西方禁止进入:add_event_common({obj = ragnarok_xanb.西方禁止进入区域, event_name = "区域-进入"})
    ragnarok_xanb.东方禁止进入:add_event_common({obj = ragnarok_xanb.东方禁止进入区域, event_name = "区域-进入"})
    ragnarok_xanb.西方胜利:add_event_common({
        obj = base.eff.cache("$$ragnarok_xanb.unit.西方基地_1.root"),
        event_name = "单位-死亡"
    })
    ragnarok_xanb.东方胜利:add_event_common({
        obj = base.eff.cache("$$ragnarok_xanb.unit.西方基地.root"),
        event_name = "单位-死亡"
    })
    ragnarok_xanb.修建_等级1:add_event_common({obj = base.game, event_name = "点击修建_等级1"})
end
